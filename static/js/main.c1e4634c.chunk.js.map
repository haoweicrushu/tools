{"version":3,"sources":["map.js","json-to-apidoc.js","App.tsx","index.tsx"],"names":["module","exports","method_id","payment_method_id","result","ret","vendor_id","user_id","type_id","sort","order","first_result","max_results","pagination","ip","memo","vendor_user_level_id","vendor_vip_level_id","created_at","modified_at","username","crypto_rate","crypto_real_rate","crypto_num","crypto_real_num","crypto_transaction_fee","crypto_txn_hash","block_at","auto_unlock_at","operator_id","lower_limit","m","require","getTypeOfValue","value","currentType","Object","prototype","toString","call","split","slice","toLowerCase","toUpperCase","substr","getPathType","parentKey","length","join","getMaxKeyChild","arr","index","max","i","keys","App","useState","text","setText","style","display","minHeight","flex","width","height","onChange","e","JSON","parse","target","convert","json","commentType","obj","str","forEach","key","type","console","log","maxKeyChild","name","defaultValue","padding","map","a","format","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c1e4634c.chunk.js","sourcesContent":["module.exports = {\n  method_id: '支付方式id',\n  payment_method_id: '支付方式id',\n  result: '回傳結果',\n  ret: '回傳資料',\n  vendor_id: '廠商id',\n  user_id: '使用者id',\n  type_id: '支付類別id',\n  sort: '排序欄位',\n  order: '升冪或降冪。可設定 asc 或 desc',\n  first_result: '分頁從第幾筆開始',\n  max_results: '分頁顯示筆數',\n  pagination: '分頁',\n  ip: 'ip',\n  memo: '備註',\n  vendor_user_level_id: '廠商使用者等級id',\n  vendor_vip_level_id: '廠商VIP等級id',\n  created_at: '建立時間，ISO-8601',\n  modified_at: '修改時間，ISO-8601',\n  username: '使用者名稱',\n  crypto_rate: '加密貨幣訂單匯率',\n  crypto_real_rate: '加密貨幣實際訂單匯率',\n  crypto_num: '加密貨幣入款數量',\n  crypto_real_num: '加密貨幣入款實際數量',\n  crypto_transaction_fee: '加密貨幣交易費',\n  crypto_txn_hash: '加密貨幣交易訂單號',\n  block_at: '封鎖時間，ISO-8601',\n\n  auto_unlock_at: '自動解鎖時間，ISO-8601',\n\n  operator_id: '操作者id',\n  lower_limit:'最低入款下限(CNY)'\n};\n","const m = require('./map');\nfunction getTypeOfValue(value) {\n  let currentType = Object.prototype.toString.call(value).split(' ')[1].slice(0, -1).toLowerCase();\n\n  if (!currentType) currentType = '*';\n\n  return currentType[0].toUpperCase() + currentType.substr(1);\n}\n\nfunction getPathType(parentKey = []) {\n  return `${parentKey.length ? parentKey.join('.') + '.' : ''}`;\n}\n\nfunction getMaxKeyChild(arr = []) {\n  let index = 0;\n  let max = 0;\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i]) {\n      if (Object.keys(arr[i]).length > max) {\n        max = Object.keys(arr[i]).length;\n        index = i;\n      }\n    }\n  }\n  return index;\n}\n\nexport function convert(json, parentKey = [], commentType = 'apiSuccess') {\n  let obj = json;\n  let str = '';\n  if (getTypeOfValue(json) === 'String') {\n    obj = JSON.parse(json);\n  }\n\n  Object.keys(obj).forEach(key => {\n    const type = getTypeOfValue(obj[key]);\n    if (type === 'Array') {\n      if (obj[key].length) {\n        console.log(getTypeOfValue(obj[key][0]));\n        str += `* @${commentType} {${getTypeOfValue(obj[key][0])}[]} ${getPathType(parentKey)}${key} \\n`;\n        const maxKeyChild = getMaxKeyChild(obj[key]);\n        if (getTypeOfValue(obj[key][0]) === 'Object')\n          return (str += convert(obj[key][maxKeyChild], [...parentKey, key]));\n      }\n    }\n\n    if (type === 'Object') {\n      str += `* @${commentType} {${type}} ${getPathType(parentKey)}${key} \\n`;\n      return (str += convert(obj[key], [...parentKey, key]));\n    }\n\n    const name = m[key] || null;\n    if (name) {\n      if (type !== 'Array') str += `* @${commentType} {${type}} ${getPathType(parentKey)}${key} ${name}\\n`;\n    } else {\n      if (type !== 'Array') str += `* @${commentType} {${type}} ${getPathType(parentKey)}${key} \\n`;\n    }\n  });\n\n  return str;\n}\n","import React, { useState } from 'react';\nimport './styles/App.sass';\nimport { convert } from './json-to-apidoc';\n\nfunction App() {\n  const [text, setText] = useState('');\n\n  function format(str = '') {\n    const arr = str.split('\\n');\n    return arr.map(a => <div>{a}</div>);\n  }\n\n  return (\n    <>\n      <div style={{ display: 'flex', minHeight: '100vh' }}>\n        <div style={{ flex: 1 }}>\n          <textarea\n            style={{ width: '100%', height: '100%' }}\n            onChange={e => {\n              try {\n                JSON.parse(e.target.value);\n                setText(convert(e.target.value));\n              } catch (e) {\n                setText('wrong json format');\n              }\n            }}\n            defaultValue=\"\"\n          ></textarea>\n        </div>\n        <div style={{ flex: 1 }}>\n          <div style={{ width: '100%', height: '100%', padding: '10px' }}>{format(text)}</div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}